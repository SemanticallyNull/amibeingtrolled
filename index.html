<!doctype html>
<html>
  <head>
    <title>Am I being trolled?</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style type="text/css">
      .middle {
        margin-top: auto;
        margin-bottom: auto;
      }
      html,body {
        height: 100%
      }
      .container {
        height: 100%
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="row h-100" id="question">
        <div class="col text-center middle">
          <h1 id="qtext">Loading...</h1>
          <button class="btn btn-lg btn-success">Yes</button>
          <button class="btn btn-lg btn-danger">No</button>
        </div>
      </div>
      <div class="row h-100" id="answer" style="display:none;">
        <div class="col text-center middle">
          <h1>You are being trolled!</h1>
          <img src="https://i.imgur.com/jWr67J8.png" style="width:100%;" alt="Troll Face">
        </div>
      </div>
    </div>

    <script type="module">
      const questions = [
        "Are you being trolled?",
        "Is the person trolling you your friend?",
        "Do you trust the person trolling you?",
        "Have you been trolled in the past?",
        "Are you a troll?",
      ];
      let questionsAskedCount = 0;

      window.addEventListener('load', function() {
        const questionElem = document.getElementById("question");
        const questionTextElem = document.getElementById("qtext");
        const answerElem = document.getElementById("answer");

        let question = newQuestion();
        questionTextElem.innerText = question;
        questionsAskedCount++;

        const btns = document.querySelectorAll("button");

        btns.forEach(function(elem){
          elem.addEventListener('click', function() {
            if(questionsAskedCount < 3) {
              let question = newQuestion();
              questionTextElem.innerText = question;
              questionsAskedCount++;
            } else {
              questionElem.style.display = "none";
              answerElem.style.display = "flex";
            }
          })
        })
      });

      function newQuestion() {
        let questionIdx = Math.floor(Math.random()*questions.length);
        let question = questions[questionIdx];
        questions.splice(questionIdx,1);
        return question
      }
    </script>
  </body>
</html>
